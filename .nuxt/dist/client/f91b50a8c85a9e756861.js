(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{842:function(t,e,o){var content=o(845);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(10).default)("692b2c53",content,!0,{sourceMap:!1})},843:function(t,e,o){"use strict";var n={},r=(o(844),o(26)),component=Object(r.a)(n,(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"bg-title-page p-t-50 p-b-40 flex-col-c-m"},[e("h2",{staticClass:"l-text2 t-center",staticStyle:{color:"rgb(87, 205, 252)","text-transform":"none"}},[this._v("\n        SW"),e("span",{staticStyle:{color:"#FFF"}},[this._v("APP")])]),this._v(" "),e("p",{staticClass:"m-text13 t-center"},[this._v("\n        Living in the future\n    ")])])}],!1,null,"24a2736a",null);e.a=component.exports},844:function(t,e,o){"use strict";var n=o(842);o.n(n).a},845:function(t,e,o){(e=o(9)(!1)).push([t.i,".bg-title-page[data-v-24a2736a]{background-image:url(https://jimkiarie8.nyc3.digitaloceanspaces.com/swap/banners/8.jpg)!important;background-attachment:fixed!important}",""]),t.exports=e},862:function(t,e,o){var content=o(924);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(10).default)("37d8f504",content,!0,{sourceMap:!1})},923:function(t,e,o){"use strict";var n=o(862);o.n(n).a},924:function(t,e,o){(e=o(9)(!1)).push([t.i,".bg-title-page,.bgwhite{margin-top:0!important}",""]),t.exports=e},986:function(t,e,o){"use strict";o.r(e);var n=o(843),r=o(33),c=o.n(r),l={name:"cart_page",props:["checkout"],components:{headerP:n.a},data:function(){return{loader:!1,totalCoupon:0,totalPrice:0,discount:0,finalAmount:0,coupon:{c_value:""},couponSessin:[],CartProduct:[],err_ms:"",form:{total:null},not_found:"https://jimkiarie8.nyc3.digitaloceanspaces.com/swap/site/no_image.png"}},methods:{imageUrlAlt:function(t){event.target.src=this.not_found},getCart:function(){$nuxt.$emit("cartEvent")},cash_delivery:function(){var t=this;$nuxt.$emit("progressEvent"),this.form.total=parseInt(this.cart_total)-parseInt(this.getCouponT),c.a.post("cash_delivery",this.form).then((function(t){$nuxt.$emit("StoprogEvent"),$nuxt.$emit("alertRequest","Order added")})).catch((function(e){$nuxt.$emit("StoprogEvent"),t.loading=!1,t.errors=e.response.data.errors}))},get_cart_total:function(){$nuxt.$emit("cartTotalEvent")},flashCart:function(t){$nuxt.$emit("flashCartEvent",t)},subtructCart:function(t){var e={order_qty:-1,cart:t};$nuxt.$emit("subCartEvent",e)},addToCart:function(t){var e={order_qty:1,cart:t};$nuxt.$emit("subCartEvent",e)},couponApply:function(){var t=this;c.a.post("/couponApply",this.coupon).then((function(e){if(e.data.errors)return t.err_ms=e.data.errors;$nuxt.$emit("StoprogEvent"),$nuxt.$emit("cartEvent",e.data),$nuxt.$emit("alertRequest","Coupon Applied"),t.getCouponSess(),t.getCart(),t.err_ms=""})).catch((function(e){console.log(e),$nuxt.$emit("StoprogEvent"),t.errors=e.response.data.errors}))},getCouponSess:function(){var t=this;$nuxt.$emit("progressEvent"),c.a.get("/couponSes").then((function(e){$nuxt.$emit("StoprogEvent"),t.couponSessin=e.data})).catch((function(e){$nuxt.$emit("StoprogEvent"),t.errors=e.response.data.errors}))},goToCheckout:function(){this.$router.push({name:"checkout"})},getCouponT:function(data){if(this.couponSessin.length>0){this.totalCoupon=0;for(var t=0;t<this.couponSessin.length;t++){var element=this.couponSessin[t];"percentage"===element.disc_type?this.totalCoupon+=parseInt(data)*parseInt(element.amount)/100:"fixedCart"===element.disc_type?this.totalCoupon=this.totalCoupon+element.amount:this.totalCoupon=parseInt(element.amount)+this.totalCoupon}return this.totalCoupon}return this.totalCoupon}},mounted:function(){this.getCart()},created:function(){},computed:{getSubTotal:function(){},carts:function(){return this.$store.getters.carts},cart_total:function(){return this.$store.getters.cart_total},getTotal:function(){if(this.carts.length>0)return parseInt(this.getSubTotal)-this.discount}},beforeRouteLeave:function(t,e,o){window.scrollTo(0,0),o()}},v=(o(923),o(26)),m=o(35),d=o.n(m),_=o(306),h=o(284),f=o(286),C=o(283),x=o(835),component=Object(v.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("headerP"),t._v(" "),t._m(0),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.loader,expression:"loader"}],staticStyle:{"text-align":"center",width:"100%","margin-top":"200px"}},[o("v-progress-circular",{staticStyle:{margin:"1rem"},attrs:{width:3,indeterminate:"",color:"red"}})],1),t._v(" "),o("section",{directives:[{name:"show",rawName:"v-show",value:!t.loader,expression:"!loader"}],staticClass:"cart bgwhite"},[o("v-card",{staticStyle:{padding:"20px",width:"80%",margin:"auto","box-shadow":"7px 7px 8px -4px rgb(210, 225, 246),0 12px 17px 2px rgb(210, 225, 246),0 5px 22px 4px rgb(210, 225, 246) !important"}},[o("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,r=e.attrs;return[o("v-btn",t._g(t._b({attrs:{icon:""},on:{click:t.getCart}},"v-btn",r,!1),n),[o("v-icon",{attrs:{color:"primary",small:""}},[t._v("mdi-refresh")])],1)]}}])},[t._v(" "),o("span",[t._v("Refresh")])]),t._v(" "),Object.keys(t.carts).length>0?o("div",{staticClass:"container"},[o("div",{staticClass:"container-table-cart pos-relative"},[o("div",{staticClass:"wrap-table-shopping-cart bgwhite"},[o("table",{staticClass:"table-shopping-cart"},[o("tr",{staticClass:"table-head"},[o("th",{staticClass:"column-1"}),t._v(" "),o("th",{staticClass:"column-2"},[t._v("Product")]),t._v(" "),o("th",{staticClass:"column-3"},[t._v("Price")]),t._v(" "),o("th",{staticClass:"column-4 p-l-70"},[t._v("Quantity")]),t._v(" "),o("th",{staticClass:"column-5"},[t._v("Total")])]),t._v(" "),t._l(t.carts,(function(e){return o("tr",{key:e.id,staticClass:"table-row"},[o("td",{staticClass:"column-1"},[o("div",{staticClass:"cart-img-product b-rad-4 o-f-hidden",on:{click:function(o){return t.flashCart(e)}}},[o("img",{attrs:{src:e.name.image,alt:""},on:{error:t.imageUrlAlt}})]),t._v(" "),e.attributes.length>0?o("div",t._l(e.attributes,(function(e,n){return o("div",{key:n},t._l(e,(function(e,n){return o("el-tag",{key:n},[t._v(t._s(e))])})),1)})),0):t._e()]),t._v(" "),o("td",{staticClass:"column-2"},[t._v(t._s(e.name.product_name))]),t._v(" "),o("td",{staticClass:"column-3"},[t._v(t._s(e.price))]),t._v(" "),o("td",{staticClass:"column-4"},[o("div",{staticClass:"flex-w bo5 of-hidden w-size17"},[o("v-btn",{attrs:{icon:"",small:""},on:{click:function(o){return t.subtructCart(e,-1)}}},[o("v-icon",{attrs:{color:"grey lighten-1"}},[t._v("mdi-minus")])],1),t._v(" "),o("p",{staticStyle:{"text-align":"center",margin:"auto"}},[t._v(t._s(e.quantity))]),t._v(" "),o("v-btn",{attrs:{icon:"",small:""},on:{click:function(o){return t.addToCart(e,1)}}},[o("v-icon",[t._v("add")])],1)],1)]),t._v(" "),o("td",{staticClass:"column-5"},[t._v(t._s(e.quantity*e.price))])])}))],2)])]),t._v(" "),o("div",{staticClass:"flex-w flex-sb-m p-t-25 p-b-25 bo8 p-l-35 p-r-60 p-lr-15-sm"},[o("div",{staticClass:"flex-w flex-m w-full-sm"},[o("div",{staticClass:"size11 bo4 m-r-10"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon.c_value,expression:"coupon.c_value"}],staticClass:"sizefull s-text7 p-l-22 p-r-22",attrs:{type:"text",name:"coupon-code",placeholder:"Coupon Code"},domProps:{value:t.coupon.c_value},on:{input:function(e){e.target.composing||t.$set(t.coupon,"c_value",e.target.value)}}}),t._v(" "),t.err_ms?o("small",{staticClass:"text-danger"},[t._v(t._s(t.err_ms))]):t._e()]),t._v(" "),o("div",{staticClass:"size12 trans-0-4 m-t-10 m-b-10 m-r-10"},[o("button",{staticClass:"flex-c-m sizefull bg1 bo-rad-23 hov1 s-text1 trans-0-4",on:{click:t.couponApply}},[t._v("Apply coupon")])])])]),t._v(" "),o("div",{staticClass:"bo9 w-size18 p-l-40 p-r-40 p-t-30 p-b-38 m-t-30 m-r-0 m-l-auto p-lr-15-sm"},[o("h5",{staticClass:"m-text20 p-b-24"},[t._v("Cart Totals")]),t._v(" "),o("div",{staticClass:"flex-w flex-sb-m p-b-12"},[o("span",{staticClass:"s-text18 w-size19 w-full-sm"},[t._v("Subtotal:")]),t._v(" "),o("span",{staticClass:"m-text21 w-size20 w-full-sm"},[t._v("KSH "+t._s(t.cart_total))])]),t._v(" "),t.couponSessin.length>0?o("div",{staticClass:"flex-w flex-sb-m p-b-12"},[o("span",{staticClass:"s-text18 w-size19 w-full-sm",staticStyle:{color:"red"}},[t._v("Coupon:")]),t._v(" "),o("span",{staticClass:"m-text21 w-size20 w-full-sm",staticStyle:{color:"red"}},[t._v(t._s(parseFloat(t.totalCoupon)/parseFloat(t.cart_total)*100)+"% off")])]):t._e(),t._v(" "),o("hr"),t._v(" "),o("div",{staticClass:"flex-w flex-sb-m p-t-26 p-b-30"},[o("span",{staticClass:"m-text22 w-size19 w-full-sm"},[t._v("Total:")]),t._v(" "),o("span",{staticClass:"m-text21 w-size20 w-full-sm"},[t._v("KSH "+t._s(parseFloat(t.cart_total)-parseFloat(t.totalCoupon)))])]),t._v(" "),"checkout"!=t.checkout?o("button",{staticClass:"flex-c-m sizefull bg1 bo-rad-23 hov1 s-text1 trans-0-4",staticStyle:{height:"44px"},on:{click:t.goToCheckout}},[t._v("Proceed to Checkout")]):t._e()])]):o("div",{staticStyle:{background:"#f0f0f0"}},[o("div",{staticClass:"text-center"},[o("p",{staticClass:"text-center",staticStyle:{background:"#f2dede","font-size":"13px",color:"#a94442 !important",padding:"10px 0"}},[t._v("Your shopping cart is empty!")]),t._v(" "),o("nuxt-link",{attrs:{to:"/shop"}},[o("v-btn",{attrs:{color:"primary",rounded:""}},[t._v("Start Shopping")])],1)],1)])],1)],1)],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"box-title",staticStyle:{margin:"30px 0"}},[e("h3",[e("span",{staticStyle:{"font-size":"30px"}},[this._v("My Shopping Cart")])])])}],!1,null,null,null);e.default=component.exports;d()(component,{VBtn:_.a,VCard:h.a,VIcon:f.a,VProgressCircular:C.a,VTooltip:x.a})}}]);