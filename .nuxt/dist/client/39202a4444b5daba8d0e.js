(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{863:function(t,e,o){var content=o(929);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(11).default)("53ae584c",content,!0,{sourceMap:!1})},928:function(t,e,o){"use strict";var r=o(863);o.n(r).a},929:function(t,e,o){(e=o(10)(!1)).push([t.i,".theme--dark.v-stepper .v-stepper__label{color:#000}",""]),t.exports=e},981:function(t,e,o){"use strict";o.r(e);o(46);var r={props:["form"],data:function(){return{logged_in:!1,user:{}}},methods:{user_logged:function(){this.$store.state.auth.loggedIn&&(this.logged_in=!0,this.user=this.$store.state.auth.user)}},mounted:function(){this.user_logged()}},n=o(26),l=o(35),c=o.n(l),v=o(305),d=o(888),m=o(853),f=o(854),_=o(969),component=Object(n.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("h2",[t._v("Billing Address")]),t._v(" "),o("v-container",{attrs:{"grid-list-xl":"",fluid:""}},[t.logged_in?o("v-layout",{attrs:{wrap:""}},[o("v-flex",{attrs:{xs12:"",sm6:""}},[o("v-text-field",{attrs:{color:"blue darken-2",label:"Full name",required:""},model:{value:t.user.billing.name,callback:function(e){t.$set(t.user.billing,"name",e)},expression:"user.billing.name"}})],1),t._v(" "),o("v-flex",{attrs:{xs12:"",sm6:""}},[o("v-text-field",{attrs:{color:"blue darken-2",label:"Email",required:""},model:{value:t.user.billing.email,callback:function(e){t.$set(t.user.billing,"email",e)},expression:"user.billing.email"}})],1),t._v(" "),o("v-flex",{attrs:{xs12:"",sm6:""}},[o("v-text-field",{attrs:{color:"blue darken-2",label:"Address",required:""},model:{value:t.user.billing.street_address,callback:function(e){t.$set(t.user.billing,"street_address",e)},expression:"user.billing.street_address"}})],1),t._v(" "),o("v-flex",{attrs:{xs12:"",sm6:""}},[o("v-text-field",{attrs:{color:"blue darken-2",label:"City/Town",required:""},model:{value:t.user.billing.town,callback:function(e){t.$set(t.user.billing,"town",e)},expression:"user.billing.town"}})],1),t._v(" "),o("v-flex",{attrs:{xs12:"",sm6:""}},[o("v-text-field",{attrs:{color:"blue darken-2",label:"Country",required:""},model:{value:t.user.billing.country,callback:function(e){t.$set(t.user.billing,"country",e)},expression:"user.billing.country"}})],1),t._v(" "),o("v-flex",{attrs:{xs12:"",sm6:""}},[o("v-text-field",{attrs:{color:"blue darken-2",label:"County",required:""},model:{value:t.user.billing.county,callback:function(e){t.$set(t.user.billing,"county",e)},expression:"user.billing.county"}})],1),t._v(" "),o("v-flex",{attrs:{xs12:"",sm6:""}},[o("v-text-field",{attrs:{color:"blue darken-2",label:"Phone",required:""},model:{value:t.user.billing.phone,callback:function(e){t.$set(t.user.billing,"phone",e)},expression:"user.billing.phone"}})],1),t._v(" "),o("v-flex",{attrs:{xs12:"",sm6:""}},[o("v-text-field",{attrs:{color:"blue darken-2",label:"Zip/Postcode",required:""},model:{value:t.user.billing.postal_code,callback:function(e){t.$set(t.user.billing,"postal_code",e)},expression:"user.billing.postal_code"}})],1),t._v(" "),o("v-btn",{attrs:{text:"",color:"primary"}},[t._v("Save address")])],1):o("v-layout",{attrs:{wrap:""}},[o("v-flex",{attrs:{xs12:"",sm6:""}},[o("v-text-field",{attrs:{color:"blue darken-2",label:"Full name",required:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),o("v-flex",{attrs:{xs12:"",sm6:""}},[o("v-text-field",{attrs:{color:"blue darken-2",label:"Email",required:""},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),t._v(" "),o("v-flex",{attrs:{xs12:"",sm6:""}},[o("v-text-field",{attrs:{color:"blue darken-2",label:"Address",required:""},model:{value:t.form.street_address,callback:function(e){t.$set(t.form,"street_address",e)},expression:"form.street_address"}})],1),t._v(" "),o("v-flex",{attrs:{xs12:"",sm6:""}},[o("v-text-field",{attrs:{color:"blue darken-2",label:"City/Town",required:""},model:{value:t.form.town,callback:function(e){t.$set(t.form,"town",e)},expression:"form.town"}})],1),t._v(" "),o("v-flex",{attrs:{xs12:"",sm6:""}},[o("v-text-field",{attrs:{color:"blue darken-2",label:"Country",required:""},model:{value:t.form.country,callback:function(e){t.$set(t.form,"country",e)},expression:"form.country"}})],1),t._v(" "),o("v-flex",{attrs:{xs12:"",sm6:""}},[o("v-text-field",{attrs:{color:"blue darken-2",label:"County",required:""},model:{value:t.form.county,callback:function(e){t.$set(t.form,"county",e)},expression:"form.county"}})],1),t._v(" "),o("v-flex",{attrs:{xs12:"",sm6:""}},[o("v-text-field",{attrs:{color:"blue darken-2",label:"Phone",required:""},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1),t._v(" "),o("v-flex",{attrs:{xs12:"",sm6:""}},[o("v-text-field",{attrs:{color:"blue darken-2",label:"Zip/Postcode",required:""},model:{value:t.form.postal_code,callback:function(e){t.$set(t.form,"postal_code",e)},expression:"form.postal_code"}})],1)],1)],1)],1)}),[],!1,null,null,null),h=component.exports;c()(component,{VBtn:v.a,VContainer:d.a,VFlex:m.a,VLayout:f.a,VTextField:_.a});var x={props:["user","account"]},C=o(995),y=o(973),$=Object(n.a)(x,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("h2",[t._v("Select Payment Method")]),t._v(" "),o("v-container",{attrs:{"grid-list-xl":"",fluid:""}},[o("v-layout",{attrs:{wrap:""}},[o("v-radio-group",{model:{value:t.account.payment,callback:function(e){t.$set(t.account,"payment",e)},expression:"account.payment"}},[o("v-radio",{attrs:{label:"Cash On Delivery",value:"Cash On Delivery"}})],1)],1)],1)],1)}),[],!1,null,null,null),k=$.exports;c()($,{VContainer:d.a,VLayout:f.a,VRadio:C.a,VRadioGroup:y.a});var w=o(33),S=o.n(w),E={name:"cart_home",props:["account"],data:function(){return{loader:!1,totalCoupon:0,totalPrice:0,discount:0,finalAmount:0,coupon:{c_value:""},couponSessin:[],CartProduct:[],err_ms:"",form:{total:null},not_found:"https://jimkiarie8.nyc3.digitaloceanspaces.com/swap/site/no_image.png"}},methods:{imageUrlAlt:function(t){event.target.src=this.not_found},getCart:function(){$nuxt.$emit("cartEvent")},cash_delivery:function(){var t=this;this.$store.dispatch("overlayAction",!0);var e={model:"cash_delivery",data:this.account};this.$store.dispatch("postItems",e).then((function(e){t.$router.push("/thankyou"),t.$store.dispatch("overlayAction",!1),t.get_cart_total(),t.get_count()})).catch((function(e){console.log(e),t.$store.dispatch("overlayAction",!1)}))},get_cart_total:function(){$nuxt.$emit("cartTotalEvent")},get_count:function(){$nuxt.$emit("cartCountEvent")},flashCart:function(t){$nuxt.$emit("flashCartEvent",t)},subtructCart:function(t){var e={order_qty:-1,cart:t};$nuxt.$emit("subCartEvent",e)},addToCart:function(t){var e={order_qty:1,cart:t};$nuxt.$emit("subCartEvent",e)},couponApply:function(){var t=this;S.a.post("/couponApply",this.coupon).then((function(e){if(console.log(e.data.errors),e.data.errors)return t.err_ms=e.data.errors;$nuxt.$emit("StoprogEvent"),$nuxt.$emit("cartEvent",e.data),$nuxt.$emit("alertRequest","Coupon Applied"),t.getCouponSess(),t.getCart(),t.err_ms=""})).catch((function(e){console.log(e),$nuxt.$emit("StoprogEvent"),t.errors=e.response.data.errors}))},getCartProduct:function(){var t=this;$nuxt.$emit("progressEvent"),S.a.get("/getCart").then((function(e){console.log(e.data),$nuxt.$emit("StoprogEvent"),t.CartProduct=e.data})).catch((function(e){$nuxt.$emit("StoprogEvent"),t.errors=e.response.data.errors}))},getCouponSess:function(){var t=this;$nuxt.$emit("progressEvent"),S.a.get("/couponSes").then((function(e){$nuxt.$emit("StoprogEvent"),t.couponSessin=e.data})).catch((function(e){$nuxt.$emit("StoprogEvent"),t.errors=e.response.data.errors}))}},mounted:function(){this.get_cart_total(),this.getCart()},created:function(){var t=this;this.$nuxt.$on("cartEvent",(function(data){t.carts=data,t.cartAdd=!0})),this.$nuxt.$on("paypalEvent",(function(data){t.$refs.paypal.submit()}))},computed:{getSubTotal:function(){if(this.carts.length>0){this.totalPrice=0;for(var t=0;t<this.carts.length;t++){var element=this.carts[t];this.totalPrice=parseInt(element.price)+this.totalPrice}}return this.totalPrice},carts:function(){return this.$store.getters.carts},cart_total:function(){return this.$store.getters.cart_total},getTotal:function(){if(this.carts.length>0)return parseInt(this.getSubTotal)-this.discount},getCouponT:function(){if(this.couponSessin.length>0){this.totalCoupon=0;for(var t=0;t<this.couponSessin.length;t++){var element=this.couponSessin[t];"percentage"===element.disc_type?(this.totalCoupon+=this.getSubTotal*element.amount/100,console.log(this.totalCoupon)):"fixedCart"===element.disc_type?(this.totalCoupon=this.totalCoupon+element.amount,console.log("this.totalCoupon")):this.totalCoupon=parseInt(element.amount)+this.totalCoupon}return this.totalCoupon}return this.totalCoupon}}},P=(o(928),o(286)),T=o(831),A=Object(n.a)(E,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"cart_home"}},[o("section",{staticClass:"cart bgwhite p-t-70 p-b-100"},[o("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[o("v-btn",t._g(t._b({attrs:{icon:""},on:{click:t.getCart}},"v-btn",n,!1),r),[o("v-icon",{attrs:{color:"primary",small:""}},[t._v("mdi-refresh")])],1)]}}])},[t._v(" "),o("span",[t._v("Refresh Cart")])]),t._v(" "),o("div",{staticClass:"container"},[o("div",{staticClass:"container-table-cart pos-relative"},[o("div",{staticClass:"wrap-table-shopping-cart bgwhite"},[o("table",{staticClass:"table-shopping-cart"},[t._m(0),t._v(" "),t._l(t.carts,(function(e){return o("tr",{key:e.id,staticClass:"table-row"},[o("td",{staticClass:"column-1"},[o("div",{staticClass:"cart-img-product b-rad-4 o-f-hidden",on:{click:function(o){return t.flashCart(e)}}},[o("img",{attrs:{src:e.name.image,alt:""},on:{error:t.imageUrlAlt}})])]),t._v(" "),o("td",{staticClass:"column-2"},[t._v(t._s(e.name.product_name))]),t._v(" "),o("td",{staticClass:"column-3"},[t._v(t._s(e.price))]),t._v(" "),o("td",{staticClass:"column-4"},[o("div",{staticClass:"flex-w bo5 of-hidden w-size17"},[o("v-btn",{attrs:{icon:"",small:""},on:{click:function(e){return t.subtructCart(t.car,-1)}}},[o("v-icon",[t._v("mdi-minus")])],1),t._v(" "),o("p",{staticStyle:{"text-align":"center",margin:"auto"}},[t._v(t._s(e.quantity))]),t._v(" "),o("v-btn",{attrs:{icon:"",small:""},on:{click:function(o){return t.addToCart(e,1)}}},[o("v-icon",[t._v("add")])],1)],1)]),t._v(" "),o("td",{staticClass:"column-5"},[t._v(t._s(e.subtotal))])])}))],2)])]),t._v(" "),o("div",{staticClass:"flex-w flex-sb-m p-t-25 p-b-25 bo8 p-l-35 p-r-60 p-lr-15-sm"},[o("div",{staticClass:"flex-w flex-m w-full-sm"},[o("div",{staticClass:"size11 bo4 m-r-10"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon.c_value,expression:"coupon.c_value"}],staticClass:"sizefull s-text7 p-l-22 p-r-22",attrs:{type:"text",name:"coupon-code",placeholder:"Coupon Code"},domProps:{value:t.coupon.c_value},on:{input:function(e){e.target.composing||t.$set(t.coupon,"c_value",e.target.value)}}}),t._v(" "),t.err_ms?o("small",{staticClass:"text-danger"},[t._v(t._s(t.err_ms))]):t._e()]),t._v(" "),o("div",{staticClass:"size12 trans-0-4 m-t-10 m-b-10 m-r-10"},[o("button",{staticClass:"flex-c-m sizefull bg1 bo-rad-23 hov1 s-text1 trans-0-4",on:{click:t.couponApply}},[t._v("Apply coupon")])])])]),t._v(" "),o("div",{staticClass:"bo9 w-size18 p-l-40 p-r-40 p-t-30 p-b-38 m-t-30 m-r-0 m-l-auto p-lr-15-sm"},[o("h5",{staticClass:"m-text20 p-b-24"},[t._v("Cart Totals")]),t._v(" "),o("div",{staticClass:"flex-w flex-sb-m p-b-12"},[o("span",{staticClass:"s-text18 w-size19 w-full-sm"},[t._v("Subtotal:")]),t._v(" "),o("span",{staticClass:"m-text21 w-size20 w-full-sm"},[t._v("KSH "+t._s(t.cart_total))])]),t._v(" "),t.couponSessin.length>0?o("div",{staticClass:"flex-w flex-sb-m p-b-12"},[o("span",{staticClass:"s-text18 w-size19 w-full-sm",staticStyle:{color:"red"}},[t._v("Coupon:")]),t._v(" "),o("span",{staticClass:"m-text21 w-size20 w-full-sm",staticStyle:{color:"red"}},[t._v(t._s(t.getCouponT/t.getSubTotal*100)+"% off")])]):t._e(),t._v(" "),o("hr"),t._v(" "),o("div",{staticClass:"flex-w flex-sb-m p-t-26 p-b-30"},[o("span",{staticClass:"m-text22 w-size19 w-full-sm"},[t._v("Total:")]),t._v(" "),o("span",{staticClass:"m-text21 w-size20 w-full-sm"},[t._v("KSH "+t._s(parseFloat(t.cart_total)-parseFloat(t.totalCoupon)))])]),t._v(" "),o("div",{staticClass:"size15 trans-0-4"},["Paypal"===t.account.payment?o("form",{ref:"paypal",attrs:{action:"#",method:"post",target:"_blank"}},[o("button",{staticClass:"flex-c-m sizefull bg1 bo-rad-23 hov1 s-text1 trans-0-4",staticStyle:{height:"44px"},attrs:{type:"submit"}},[t._v("Place Order")])]):(t.account.payment,o("v-btn",{attrs:{text:"",color:"primary"},on:{click:t.cash_delivery}},[t._v("Place Order")]))],1)])])],1)])}),[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("tr",{staticClass:"table-head"},[o("th",{staticClass:"column-1"}),t._v(" "),o("th",{staticClass:"column-2"},[t._v("Product")]),t._v(" "),o("th",{staticClass:"column-3"},[t._v("Price")]),t._v(" "),o("th",{staticClass:"column-4 p-l-70"},[t._v("Quantity")]),t._v(" "),o("th",{staticClass:"column-5"},[t._v("Total")])])}],!1,null,null,null),V=A.exports;c()(A,{VBtn:v.a,VIcon:P.a,VTooltip:T.a});var z={props:["account"],components:{myCart:V}},O=Object(n.a)(z,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("h2",[t._v("Order Summary")]),t._v(" "),o("v-container",{attrs:{"grid-list-xl":"",fluid:""}},[o("v-layout",{attrs:{wrap:""}},[o("v-flex",{attrs:{sm5:"","offset-sm1":""}},[o("h3",[t._v("Billing Address")]),t._v("\n                "+t._s(t.account.name)+" "),o("br"),t._v(" "),o("address",[t._v(t._s(t.account.name))]),t._v("\n                "+t._s(t.account.country)+" "),o("br"),t._v("\n                "+t._s(t.account.city)+" "),o("br"),t._v("\n                "+t._s(t.account.phone)+" "),o("br")]),t._v(" "),o("v-flex",{attrs:{sm5:"","offset-sm1":""}},[o("h3",[t._v("Billing Address")]),t._v("\n                "+t._s(t.account.name)+" "),o("br"),t._v(" "),o("address",[t._v(t._s(t.account.name))]),t._v("\n                "+t._s(t.account.country)+" "),o("br"),t._v("\n                "+t._s(t.account.city)+" "),o("br"),t._v("\n                "+t._s(t.account.phone)+" "),o("br")])],1),t._v(" "),o("myCart",{attrs:{account:t.account,checkout:"checkout"}})],1)],1)}),[],!1,null,null,null),I=O.exports;c()(O,{VContainer:d.a,VFlex:m.a,VLayout:f.a});var B={middleware:"auth",props:["user"],components:{myAddress:h,myComplete:I,myPayment:k},data:function(){return{account:[],e6:1,errors:{},form:{}}},methods:{goToStep2:function(){this.user?this.account=this.user:this.account=this.form,this.account!={}?this.e6=2:$nuxt.$emit("errorEvent","Please confirm if all fields  with * are filled")},goToStep3:function(){this.account.payment?this.e6=3:$nuxt.$emit("errorEvent","Please confirm if all fields  with * are filled")},finish:function(){if("Paypal"!=this.account.payment){this.loading=!0,this.productD.order_qty=this.form.quantity;var t={model:"cartAdd",id:this.productD.id,data:this.productD};this.$store.dispatch("postItem",t)}else $nuxt.$emit("paypalEvent",this.account)},cancel:function(){window.location.replace("/")},showerror:function(data){this.message=data,this.Scolor="red",this.snackbar=!0}},computed:{loggedIn:function(){this.$store.state.auth.loggedIn}},created:function(){var t=this;this.$nuxt.$on("userResponse",(function(data){window.location.replace("/thankyou")})),this.$nuxt.$on("companyResponse",(function(data){t.e6=2,t.company_id=data})),this.$nuxt.$on("errorEvent",(function(data){t.showerror(data)}))},beforeRouteLeave:function(t,e,o){o(),window.scrollTo(0,0)}},F=o(284),R=o(974),j=o(975),D=o(976),L=Object(n.a)(B,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-card",{staticStyle:{padding:"20px",width:"80%",margin:"auto","box-shadow":"7px 7px 8px -4px rgb(210, 225, 246),0 12px 17px 2px rgb(210, 225, 246),0 5px 22px 4px rgb(210, 225, 246) !important","margin-top":"200px"}},[o("v-stepper",{attrs:{vertical:""},model:{value:t.e6,callback:function(e){t.e6=e},expression:"e6"}},[o("v-stepper-step",{attrs:{complete:t.e6>1,step:"1"}},[t._v("User information")]),t._v(" "),o("v-stepper-content",{staticStyle:{background:"#fff"},attrs:{step:"1"}},[o("v-card",{staticClass:"mb-5",attrs:{color:"white lighten-1"}},[o("myAddress",{attrs:{user:t.user,form:t.form}})],1),t._v(" "),o("v-btn",{attrs:{color:"primary"},on:{click:t.goToStep2}},[t._v("Continue")])],1),t._v(" "),o("v-stepper-step",{attrs:{complete:t.e6>2,step:"2"}},[t._v("Payment")]),t._v(" "),o("v-stepper-content",{staticStyle:{background:"#fff"},attrs:{step:"2"}},[o("v-card",{staticClass:"mb-5",attrs:{color:"white lighten-1"}},[o("myPayment",{attrs:{account:t.account}})],1),t._v(" "),o("v-btn",{attrs:{color:"primary"},on:{click:t.goToStep3}},[t._v("Continue")]),t._v(" "),o("v-btn",{attrs:{text:""},on:{click:function(e){t.e6=1}}},[t._v("Back")])],1),t._v(" "),o("v-stepper-step",{attrs:{complete:t.e6>3,step:"3"}},[t._v("Complete")]),t._v(" "),o("v-stepper-content",{staticStyle:{background:"#fff"},attrs:{step:"3"}},[o("v-card",{staticClass:"mb-5",attrs:{color:"white lighten-1"}},[o("myComplete",{attrs:{account:t.account}})],1),t._v(" "),o("v-btn",{attrs:{text:""},on:{click:function(e){t.e6=2}}},[t._v("Back")])],1)],1)],1)],1)}),[],!1,null,null,null);e.default=L.exports;c()(L,{VBtn:v.a,VCard:F.a,VStepper:R.a,VStepperContent:j.a,VStepperStep:D.a})}}]);